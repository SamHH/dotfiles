# Variables
set $mod Mod4
set $left h
set $down j
set $up k
set $right l
set $term alacritty

# Locking
exec swayidle -w before-sleep 'swaylock -f -c 000000'

# Trackpad
input "1452:628:bcm5974" {
  dwt enabled
  natural_scroll enabled
}

# Keyboard
input "1452:628:Apple_Inc._Apple_Internal_Keyboard_/_Trackpad" {
  xkb_model apple_laptop
  xkb_layout gb(mac)
  xkb_options caps:swapescape
}

# General
focus_follows_mouse no

# Theming
font pango:Monaco 11
client.focused #222222 #000000 #eeeeee #458588 #458588
client.unfocused #222222 #333333 #999999 #222222 #222222
client.focused_inactive #222222 #222222 #eeeeee #222222 #222222
default_border pixel 3
smart_borders on
gaps outer 0
gaps inner 16

# Mod key
set $mod Mod4

# Start a terminal
bindsym $mod+Return exec alacritty

# Kill focused window
bindsym $mod+Shift+q kill

# Launcher
bindsym $mod+d exec rofi -modi drun -show drun -drun-match-fields name

# Buku
bindsym $mod+Shift+d exec bukubrow -l | rofi -dmenu -i -p bookmark | cut -d ' ' -f 1 | xargs --no-run-if-empty bukubrow -o

# Pass
bindsym $mod+Shift+x exec ~/scripts/pass-rofi-password.sh password
bindsym $mod+Shift+n exec ~/scripts/pass-rofi-prefixed-line.sh 'username: ' username
bindsym $mod+Shift+m exec ~/scripts/pass-rofi-prefixed-line.sh 'email: ' email

# Clipboard
# exec_always greenclip daemon
# bindsym $mod+Shift+p exec rofi -lines 5 -modi "clipboard:greenclip print" -show clipboard

# Calculator & conversions
bindsym $mod+Shift+o exec rofi -show calc -modi "calc:qalc +u8"

# Translations
bindsym $mod+Shift+t exec rofi -show trans -modi "trans:trans -brief"

# Wallpaper
bindsym $mod+Shift+w exec ~/scripts/wallpaper.sh

# Change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Move focused container around
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# Split horizontally / vertically
bindsym $mod+c split h
bindsym $mod+v split v

# Toggle fullscreen for focused
bindsym $mod+f fullscreen toggle

# Change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# Toggle tiling / floating
bindsym $mod+Shift+Space floating toggle

# Change focus between tiling / floating windows
bindsym $mod+Space focus mode_toggle

# Toggle sticky
bindsym $mod+Shift+s sticky toggle

# Enable floating video mode
bindsym $mod+Shift+a floating enable; sticky enable; resize set 880 495; move window to position 1970 1270

# Switch to workspace
bindsym $mod+1 workspace 1 web
bindsym $mod+2 workspace 2 code1
bindsym $mod+3 workspace 3 code2
bindsym $mod+4 workspace 4 code3
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7 music
bindsym $mod+8 workspace 8 social
bindsym $mod+9 workspace 9 email
bindsym $mod+0 workspace 10 task

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1 web
bindsym $mod+Shift+2 move container to workspace 2 code1
bindsym $mod+Shift+3 move container to workspace 3 code2
bindsym $mod+Shift+4 move container to workspace 4 code3
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7 music
bindsym $mod+Shift+8 move container to workspace 8 social
bindsym $mod+Shift+9 move container to workspace 9 email
bindsym $mod+Shift+0 move container to workspace 10 task

# Assign GUI apps to specific workspaces by default
assign [class="Spotify"] 7 music
assign [class="Discord"] 8 social
assign [class="Slack"] 8 social
assign [class="Telegram"] 8 social
assign [class="Protonmail Desktop"] 9 email
assign [class="Mozilla Thunderbird"] 9 email

# Reload config
bindsym $mod+Shift+c reload

# Exit Sway (requires mouse confirmation)
bindsym $mod+Shift+e exec "swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit Sway? This will end your Wayland session.' -b 'Yes, exit Sway' 'swaymsg exit'"

# Resize mode
mode "resize" {
  bindsym h resize shrink width 10 px or 10 ppt
  bindsym j resize grow height 10 px or 10 ppt
  bindsym k resize shrink height 10 px or 10 ppt
  bindsym l resize grow width 10 px or 10 ppt

  # Leave resize mode w/ Enter or Esc
  bindsym Return mode "default"
  bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"

# Volume control
bindsym XF86AudioRaiseVolume exec amixer -q set Master 5%+ unmute
bindsym XF86AudioLowerVolume exec amixer -q set Master 5%- unmute
bindsym XF86AudioMute exec amixer -q set Master toggle

# Screen brightness control
bindsym XF86MonBrightnessUp exec light -A 10
bindsym XF86MonBrightnessDown exec light -U 10

# Keyboard backlight control
bindsym XF86KbdBrightnessUp exec light -A 20 -s sysfs/leds/smc::kbd_backlight
bindsym XF86KbdBrightnessDown exec light -U 20 -s sysfs/leds/smc::kbd_backlight

# Media control
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

bar {
  swaybar_command waybar
}

